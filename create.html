<!DOCTYPE html>
<html lang="en">
<head>
    <title>Guess The Clue</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="keywords" content="cryptic, crossword, clues"/>
    <meta name="description" content="Guess The Clue!"/>
    <meta property="og:title" content="Guess The Clue"/>
    <meta property="og:site_name" content="Guess The Clue"/>
    <link rel="stylesheet" href="./index.css"/>
    <style>
        .gtc_main__create {
            grid-template:
                "title" 15% "maker" 25% "clue" 15%
                "url" 15% "copy" auto
                "keyboard" env(keyboard-inset-height, 0px);

            #title {
                grid-row: 1;
            }

            textarea {
                resize: none;
                padding: 1em;
                border: none;
                border-bottom: solid black 2px;

                &:focus {
                    outline: none;
                }
            }

            #maker {
                display: inline-grid;
                grid-row: 2;
                row-gap: 2em;

                textarea[name="answer"] {
                    text-transform: uppercase;
                }
            }

            #clue {
                background-color: var(--colour-dark-green);
                border: none;
                grid-row: 3;
                width: 90%;
                height: 1px;
                margin: auto;
            }

            #url {
                color: var(--colour-dark-green);
                grid-row: 4;
                word-break: break-all;
                height: 5em;
                border: none;
            }

            .gtc_button__copy {
                grid-row: 5;
                /*margin: 1em;*/
            }
        }
    </style>
</head>
<body>
<main class="gtc_main gtc_main__create">
    <h1 class="gtc_header" id="title">Create your own!</h1>
    <form id="maker">
        <textarea name="clue" placeholder="My clue, what do you think?" rows="1"></textarea>
        <textarea name="answer" placeholder="ANSWER" rows="1"></textarea>
    </form>
    <hr id="clue">
    <textarea id="url" rows="3" readonly></textarea>
    <button class="gtc_button gtc_button--copy" onclick="navigator.clipboard.writeText(url.value)">Copy To Clipboard</button>
    <script>
        document.getElementById('maker').addEventListener('input', (_) => {
            let format = [...document.getElementById('maker').querySelectorAll('textarea')]
                .map((e) => e.value)
                .join("|");

            document.getElementById('url').textContent = `${window.location.origin}/guess/#${btoa(format)}`
        });
    </script>
</main>
</body>
</html>